(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec3b3960"],{1799:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"pagination d-flex justify-content-center mt-5"},[e("nav",{attrs:{"aria-label":"Page navigation example just"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.pageData.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getPage(t.pageData.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pageData.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pageData.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getPage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pageData.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getPage(t.pageData.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])])},s=[],r={name:"Pagination",props:{pageData:{type:Object,default:function(){return{}}}},methods:{getPage:function(t){this.$emit("postPage",t)}}},c=r,n=e("2877"),l=Object(n["a"])(c,i,s,!1,null,null,null);a["a"]=l.exports},"466d":function(t,a,e){"use strict";var i=e("d784"),s=e("825a"),r=e("50c4"),c=e("1d80"),n=e("8aa5"),l=e("14c3");i("match",1,(function(t,a,e){return[function(a){var e=c(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,e):new RegExp(a)[t](String(e))},function(t){var i=e(a,t,this);if(i.done)return i.value;var c=s(t),o=String(this);if(!c.global)return l(c,o);var u=c.unicode;c.lastIndex=0;var d,p=[],f=0;while(null!==(d=l(c,o))){var g=String(d[0]);p[f]=g,""===g&&(c.lastIndex=n(o,r(c.lastIndex),u)),f++}return 0===f?null:p}]}))},5842:function(t,a,e){t.exports=e.p+"img/product-bag.c31b2ddf.jpg"},"5b60":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("div",{staticClass:"container"},[t._m(1),e("div",{staticClass:"row mt-7"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"list sticky-top mb-4"},[e("h5",{staticClass:"h3 text-primary pb-2 list__title mb-5"},[t._v("分類")]),e("div",{staticClass:"list-group mb-5"},[e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"all"==t.visibility},attrs:{href:"","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.changeTab("all")}}},[e("i",{staticClass:"fas fa-box mr-3"}),t._v("所有產品 ")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"帳篷"==t.visibility},attrs:{href:"","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.changeTab("帳篷")}}},[e("i",{staticClass:"fas fa-home mr-3"}),t._v("帳篷 ")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"睡袋"==t.visibility},attrs:{href:"","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.changeTab("睡袋")}}},[e("i",{staticClass:"fas fa-bed mr-3"}),t._v("睡袋 ")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"營火"==t.visibility},attrs:{href:"","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.changeTab("營火")}}},[e("i",{staticClass:"fas fa-fire mr-3"}),t._v("柴火 ")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"廚具"==t.visibility},attrs:{href:"#","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.changeTab("廚具")}}},[e("i",{staticClass:"fas fa-utensils mr-3"}),t._v("廚具 ")])])])]),e("div",{staticClass:"col-lg-9"},[e("div",{staticClass:"row d-flex justify-content-center"},[e("div",{staticClass:"col-10"},[e("div",{staticClass:"input-group mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchFilter,expression:"searchFilter",modifiers:{trim:!0}}],staticClass:"form-control border",attrs:{type:"text",placeholder:"找尋什麼商品呢??"},domProps:{value:t.searchFilter},on:{input:[function(a){a.target.composing||(t.searchFilter=a.target.value.trim())},t.searchProduct],blur:function(a){return t.$forceUpdate()}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn border",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.searchProduct(a)}}},[e("i",{staticClass:"fas fa-search"})])])])])]),e("div",{staticClass:"row"},t._l(t.filterPager,(function(a){return e("div",{key:a.id,staticClass:"col-lg-4 col-sm-6 mb-4"},[e("div",{staticClass:"card h-100 product__card"},[e("div",{staticClass:"box",on:{click:function(e){return t.getProduct(a.id)}}},[e("img",{staticClass:"card-img-top img-fluid",attrs:{src:a.imageUrl,alt:"各項產品照片"}}),e("div",{staticClass:"title d-flex align-items-center justify-content-center"},[e("button",{staticClass:"btn more text-white",attrs:{type:"button"}},[t.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" More ")])])]),e("div",{staticClass:"card-body",on:{click:function(e){return t.getProduct(a.id)}}},[e("h5",{staticClass:"card-title"},[t._v(t._s(a.title))]),e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(a.description)+" ")]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline mt-3"},[a.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(a.origin_price)))]),a.price?e("del",{staticClass:"h6 text-muted"},[t._v(t._s(t._f("currency")(a.origin_price)))]):t._e(),a.price?e("div",{staticClass:"h5 text-danger"},[t._v(t._s(t._f("currency")(a.price)))]):t._e()])]),e("div",{staticClass:"card-footer"},[e("button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"btn btn-block btn-primary my-2",attrs:{type:"button",id:"addBtn"},on:{click:function(e){return t.addToCart(a)}}},[t.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加入購物車 ")])])])])})),0),(t.searchFilter||t.searchResult.length)&&0==t.searchResult.length?e("div",{staticClass:"d-flex flex-column align-items-center mt-6"},[e("i",{staticClass:"far fa-frown fa-3x text-muted mb-3"}),e("p",[t._v("查無與「"+t._s(t.searchFilter)+"」相關的結果")])]):t._e(),t.pagination.total_pages?e("Pagination",{attrs:{"page-data":t.pagination},on:{postPage:t.getPage}}):t._e()],1)])]),e("Footer")],1)},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"carousel slide mt-8",attrs:{id:"carouselExampleCaptions","data-ride":"carousel","data-interval":"3000"}},[i("ol",{staticClass:"carousel-indicators"},[i("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"0"}}),i("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"1"}}),i("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"2"}})]),i("div",{staticClass:"carousel-inner"},[i("div",{staticClass:"carousel-item active"},[i("img",{staticClass:"d-block w-100",attrs:{src:e("f3d8"),alt:"帳篷"}}),i("div",{staticClass:"carousel-caption d-md-block"},[i("h3",[t._v("帳篷")])])]),i("div",{staticClass:"carousel-item"},[i("img",{staticClass:"d-block w-100",attrs:{src:e("73c5"),alt:"廚具"}}),i("div",{staticClass:"carousel-caption d-md-block"},[i("h3",[t._v("廚具")])])]),i("div",{staticClass:"carousel-item"},[i("img",{staticClass:"d-block w-100",attrs:{src:e("5842"),alt:"機能背包"}}),i("div",{staticClass:"carousel-caption d-md-block"},[i("h3",[t._v("機能背包")])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row noGutter__row"},[e("div",{staticClass:"sale noGutter__co col-12 text-center py-3 mt-6",attrs:{"data-aos":"fade-up"}},[t._v(" 開幕期間，輸入 fireman 優惠碼，立即享 "),e("span",[t._v("20% off")]),t._v(" 折扣 !!!! ")])])}],r=(e("99af"),e("4de4"),e("4160"),e("c975"),e("a434"),e("ac1f"),e("466d"),e("159b"),e("5530")),c=e("1799"),n=e("fd2d"),l=e("2f62"),o={name:"CustomerProduct",data:function(){return{products:[],pagination:{page_Size:6,total_pages:1,current_page:1,has_pre:!1,has_next:!1},product:{},visibility:"all",searchFilter:"",searchResult:[],cartData:[]}},methods:{getProducts:function(){var t=this;t.visibility="all";var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("camp","/products/all");t.$store.dispatch("updateLoading",!0),t.$http.get(a).then((function(a){var e=a.data.products;t.products=e.filter((function(t){return 1===t.is_enabled})),t.$store.dispatch("updateLoading",!1)}))},getProduct:function(t){var a=this;a.$router.push("/product_detail/".concat(t))},getCart:function(){this.cartData=JSON.parse(localStorage.getItem("cartData"))||[]},addToCart:function(t){var a=this;a.getCart();var e=[];if(a.cartData.forEach((function(t){return e.push(t.product_id)})),-1===e.indexOf(t.id)){var i={product_id:t.id,qty:1,title:t.title,price:t.price};a.cartData.push(i),localStorage.setItem("cartData",JSON.stringify(a.cartData)),a.getCart(),a.$bus.$emit("cart:get")}else a.cartData.forEach((function(e,i){if(e.product_id===t.id){var s=e.qty,r={product_id:t.id,qty:s+=1,title:t.title,price:t.price};a.cartData.splice(i,1),a.cartData.push(r),localStorage.setItem("cartData",JSON.stringify(a.cartData)),a.getCart(),a.$bus.$emit("cart:get")}}))},getPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.pagination.current_page=t},searchProduct:function(){var t=this;t.pagination.current_page=1,t.visibility="",t.searchFilter?t.searchResult=t.products.filter((function(a){return a.title.match(t.searchFilter)})):t.searchResult=[]},changeTab:function(t){var a=this;a.visibility=t,a.pagination.current_page=1,a.searchFilter="",a.searchResult=[]}},components:{Pagination:c["a"],Footer:n["a"]},computed:Object(r["a"])({filterData:function(){var t=this;return t.searchFilter||t.searchResult.length?t.searchResult:"all"===t.visibility?t.products:t.products.filter((function(a){return a.category===t.visibility}))},filterPager:function(){var t=this,a=t.filterData.length,e=t.pagination.page_Size;t.pagination.total_pages=Math.ceil(a/e);var i=t.pagination.current_page;return t.pagination.has_pre=i>1,i<t.pagination.total_pages&&(t.pagination.has_next=!0),i+1>t.pagination.total_pages&&(t.pagination.has_next=!1),t.filterData.filter((function(t,a){return a<i*e&&a>=(i-1)*e}))}},Object(l["c"])("cartModule",["loadingItem"])),directives:{preventReClick:{inserted:function(t,a){t.addEventListener("click",(function(){t.disabled||(t.disabled=!0,setTimeout((function(){t.disabled=!1}),500))}))}}},created:function(){this.getProducts(),this.getCart()}},u=o,d=e("2877"),p=Object(d["a"])(u,i,s,!1,null,null,null);a["default"]=p.exports},"73c5":function(t,a,e){t.exports=e.p+"img/product-kitchen.9aec15a2.jpg"},c975:function(t,a,e){"use strict";var i=e("23e7"),s=e("4d64").indexOf,r=e("a640"),c=e("ae40"),n=[].indexOf,l=!!n&&1/[1].indexOf(1,-0)<0,o=r("indexOf"),u=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!o||!u},{indexOf:function(t){return l?n.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},f3d8:function(t,a,e){t.exports=e.p+"img/product-tent.2a2d2c8d.jpg"},fd2d:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("footer",{staticClass:"footer d-flex justify-content-center align-items-center py-4"},[e("div",{staticClass:"container"},[e("div",{staticClass:"d-flex flex-column text-center"},[e("small",[t._v("台中市西屯區123路123號")]),e("small",[t._v("連絡電話: "),e("a",{attrs:{href:"tel:+886-2-1234567"}},[t._v("1234567")])]),e("small",[t._v("Email: "),e("a",{attrs:{href:"mailto:abcd1234@gmail.com"}},[t._v("abcd1234@gmail.com")])]),e("div",{staticClass:"footer__media"},[e("i",{staticClass:"fab fa-twitter-square mr-2"}),e("i",{staticClass:"fab fa-facebook-square mr-2"}),e("i",{staticClass:"fab fa-github"})]),e("small",{staticClass:"mt-2"},[t._v("Copyright 2020 | Web Designed by 皮傑先生")])])])])])}],r=e("2877"),c={},n=Object(r["a"])(c,i,s,!1,null,null,null);a["a"]=n.exports}}]);
//# sourceMappingURL=chunk-ec3b3960.acf14cde.js.map