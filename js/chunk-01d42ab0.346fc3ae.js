(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01d42ab0"],{2355:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Alert"),a("div",{staticClass:"container mt-8 mb-4 cart"},[a("div",{staticClass:"row d-flex justify-content-center"},[a("div",{staticClass:"col-12 col-md-10"},[a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"table-responsive-lg"},[t.cart.carts.length?a("table",{staticClass:"table table-sm"},[t._m(1),a("tbody",t._l(t.cart.carts,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return t.removeCartItem(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),a("td",{staticClass:"align-middle d-none d-md-table-cell"},[a("img",{staticClass:"img-fluid",attrs:{src:e.product.imageUrl,alt:"購物車購買項目"}})]),a("td",{staticClass:"align-middle text-bold"},[t._v(" "+t._s(e.product.title)+" "),e.coupon?a("div",{staticClass:"text-success"},[t._v(" 已套用優惠卷 ")]):t._e()]),a("td",{staticClass:"align-middle"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control form-control-sm",on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"qty",a.target.multiple?s:s[0])},function(a){return t.modifyQty(e.product_id,e.qty,e.id)}]}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)]),e.final_total!==e.product.origin_price?a("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(e.final_total)))]):a("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(e.product.origin_price)))])])})),0),a("tfoot",[a("tr",[t.cart.final_total==t.cart.total?a("td",{staticClass:"text-right text-bold",attrs:{colspan:"4"}},[t._v("總計")]):t._e(),t.cart.final_total==t.cart.total?a("td",{staticClass:"text-right text-bold"},[t._v(t._s(t._f("currency")(t.cart.total)))]):t._e()]),t.cart.final_total!==t.cart.total?a("tr",[a("td",{staticClass:"text-right text-success",attrs:{colspan:"4"}},[t._v("折扣價")]),a("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]):t._e()]),0===t.cart.carts.length?a("div",{staticClass:"none d-flex flex-column align-items-center mt-6"},[a("i",{staticClass:"fa fa-cart-arrow-down fa-4x text-muted mb-2 animate__animated animate__bounce animate__infinite",attrs:{"aria-hidden":"true"}}),t._v(" 購物車尚未有商品唷!! "),a("button",{staticClass:"btn btn-outline-primary btn-md mt-3",attrs:{type:"button"},on:{click:t.toProduct}},[t._v("前往購買")])]):t._e(),a("div",{staticClass:"row d-flex justify-content-center mt-7"},[a("div",{staticClass:"col-md-10 col-12"},[t.cart.carts.length?a("div",{staticClass:"input-group mb-3 input-group-md"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v(" 套用優惠卷 ")])])]):t._e(),t.cart.carts.length?a("button",{staticClass:"btn btn-primary btn-block px-3",attrs:{type:"button"},on:{click:t.toOrder}},[t._v("結帳")]):t._e()])])]),t._m(2)]),0===t.cart.carts.length?a("h2",{staticClass:"text-center text-primary my-6 hotItem"},[t._v("本月熱銷商品")]):t._e(),0===t.cart.carts.length?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},t._l(t.products,(function(e){return a("swiper-slide",{key:e.id},[a("div",{staticClass:"card h-100",on:{click:t.toProduct}},[a("img",{staticClass:"card-img-top",attrs:{src:e.imageUrl,alt:"本月熱銷商品"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title hotItem__text text-center"},[t._v(t._s(e.title))])])])])})),1)],1)]):t._e()])])]),a("Footer")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-third"},[a("h4",{staticClass:"h5 text-primary text-center text-bold"},[t._v("購物車")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th"),a("th",{staticClass:"d-none d-md-table-cell table__img"},[t._v("產品圖片")]),a("th",{attrs:{width:"30%"}},[t._v("產品名稱")]),a("th",{attrs:{width:"40%"}},[t._v("數量")]),a("th",[t._v("價錢")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-footer bg-third pt-5"},[a("p",{staticClass:"text-center"},[t._v("開幕期間，輸入 fireman 優惠碼，立即享 20% off 折扣 !!!!")])])}],c=(a("99af"),a("4de4"),a("5530")),r=a("56a6"),o=a("fd2d"),n=a("2f62"),l={name:"Cart",data:function(){return{coupon_code:"",products:[],swiperOption:{slidesPerView:1,loop:!0,spaceBetween:30,grabCursor:!0,autoplay:{delay:1500,disableOnInteraction:!1},breakpoints:{480:{slidesPerView:2,spaceBetween:20},800:{slidesPerView:3,spaceBetween:20}}}}},methods:Object(c["a"])({getProducts:function(){var t=this;t.visibility="all";var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("camp","/products/all");t.$store.dispatch("updateLoading",!0),t.$http.get(e).then((function(e){t.$store.dispatch("updateLoading",!1);var a=e.data.products;t.products=a.filter((function(t){return 1===t.is_enabled}))}))},addCouponCode:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("camp","/coupon"),a={code:t.coupon_code};t.$store.dispatch("updateLoading",!0),t.$http.post(e,{data:a}).then((function(e){e.data.success?(t.$store.dispatch("cartModule/getCart"),t.$store.dispatch("updateLoading",!1)):(t.$store.dispatch("alertModules/updateMessage","輸入錯誤"),t.$store.dispatch("updateLoading",!1))}))},toOrder:function(){this.$router.push("customer_order")},toProduct:function(){this.$router.push("/customer_product")},modifyQty:function(t,e,a){this.$store.dispatch("cartModule/modifyQty",{productid:t,qty:e,id:a})}},Object(n["b"])("cartModule",["removeCartItem"])),components:{Alert:r["a"],Footer:o["a"]},computed:{cart:function(){return JSON.parse(JSON.stringify(this.$store.state.cartModule.cart))}},created:function(){this.$store.dispatch("cartModule/getCart"),this.getProducts()}},d=l,u=(a("9188"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"79f43b14",null);e["default"]=p.exports},"56a6":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert",class:{active:0!==t.messages.length}},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],c=a("5530"),r=a("2f62"),o={name:"alertMessage",methods:Object(c["a"])({},Object(r["d"])("alertModules",["removeMessage"])),computed:Object(c["a"])({},Object(r["c"])("alertModules",["messages"]))},n=o,l=(a("d2eb"),a("2877")),d=Object(l["a"])(n,s,i,!1,null,"c8970bfc",null);e["a"]=d.exports},"6c85":function(t,e,a){},7616:function(t,e,a){},9188:function(t,e,a){"use strict";a("6c85")},d2eb:function(t,e,a){"use strict";a("7616")},fd2d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("footer",{staticClass:"footer d-flex justify-content-center align-items-center py-4"},[a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex flex-column text-center"},[a("small",[t._v("台中市西屯區123路123號")]),a("small",[t._v("連絡電話: "),a("a",{attrs:{href:"tel:+886-2-1234567"}},[t._v("1234567")])]),a("small",[t._v("Email: "),a("a",{attrs:{href:"mailto:abcd1234@gmail.com"}},[t._v("abcd1234@gmail.com")])]),a("div",{staticClass:"footer__media"},[a("i",{staticClass:"fab fa-twitter-square mr-2"}),a("i",{staticClass:"fab fa-facebook-square mr-2"}),a("i",{staticClass:"fab fa-github"})]),a("small",{staticClass:"mt-2"},[t._v("Copyright 2020 | Web Designed by 皮傑先生")])])])])])}],c=a("2877"),r={},o=Object(c["a"])(r,s,i,!1,null,null,null);e["a"]=o.exports}}]);
//# sourceMappingURL=chunk-01d42ab0.346fc3ae.js.map