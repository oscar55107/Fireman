{"version":3,"sources":["webpack:///./src/views/frontend/Cart.vue?0ee8","webpack:///src/views/frontend/Cart.vue","webpack:///./src/views/frontend/Cart.vue?b128","webpack:///./src/views/frontend/Cart.vue","webpack:///./src/components/AlertMessage.vue?36a5","webpack:///src/components/AlertMessage.vue","webpack:///./src/components/AlertMessage.vue?ed7c","webpack:///./src/components/AlertMessage.vue","webpack:///./src/views/frontend/Cart.vue?baa0","webpack:///./src/components/AlertMessage.vue?1abe","webpack:///./src/components/Footer.vue?424b","webpack:///./src/components/Footer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","cart","carts","_l","item","key","id","attrs","on","$event","removeCartItem","product","imageUrl","_v","_s","title","_e","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","modifyQty","product_id","qty","domProps","final_total","origin_price","_f","total","length","toProduct","composing","coupon_code","addCouponCode","toOrder","swiperOption","staticRenderFns","data","products","slidesPerView","loop","spaceBetween","grabCursor","autoplay","delay","disableOnInteraction","breakpoints","480","800","methods","getProducts","vm","visibility","$store","dispatch","$http","get","api","then","temp","is_enabled","code","post","response","success","$router","push","components","Alert","Footer","computed","JSON","parse","stringify","state","cartModule","created","component","class","messages","i","status","message","removeMessage","script"],"mappings":"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","file":"js/chunk-01d42ab0.346fc3ae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Alert'),_c('div',{staticClass:\"container mt-8 mb-4 cart\"},[_c('div',{staticClass:\"row d-flex justify-content-center\"},[_c('div',{staticClass:\"col-12 col-md-10\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"table-responsive-lg\"},[(_vm.cart.carts.length)?_c('table',{staticClass:\"table table-sm\"},[_vm._m(1),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',{staticClass:\"align-middle d-none d-md-table-cell\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.product.imageUrl,\"alt\":\"購物車購買項目\"}})]),_c('td',{staticClass:\"align-middle text-bold\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" 已套用優惠卷 \")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.qty),expression:\"item.qty\"}],staticClass:\"form-control form-control-sm\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"qty\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.modifyQty(item.product_id, item.qty, item.id)}]}},_vm._l((10),function(qty){return _c('option',{key:qty,domProps:{\"value\":qty}},[_vm._v(_vm._s(qty))])}),0)]),(item.final_total !== item.product.origin_price)?_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))]):_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.origin_price)))])])}),0),_c('tfoot',[_c('tr',[(_vm.cart.final_total == _vm.cart.total)?_c('td',{staticClass:\"text-right text-bold\",attrs:{\"colspan\":\"4\"}},[_vm._v(\"總計\")]):_vm._e(),(_vm.cart.final_total == _vm.cart.total)?_c('td',{staticClass:\"text-right text-bold\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.total)))]):_vm._e()]),(_vm.cart.final_total !== _vm.cart.total)?_c('tr',[_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"4\"}},[_vm._v(\"折扣價\")]),_c('td',{staticClass:\"text-right text-success\"},[_vm._v(_vm._s(_vm.cart.final_total))])]):_vm._e()])]):_vm._e()]),(_vm.cart.carts.length === 0)?_c('div',{staticClass:\"none d-flex flex-column align-items-center mt-6\"},[_c('i',{staticClass:\"fa fa-cart-arrow-down fa-4x text-muted mb-2 animate__animated animate__bounce animate__infinite\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" 購物車尚未有商品唷!! \"),_c('button',{staticClass:\"btn btn-outline-primary btn-md mt-3\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toProduct}},[_vm._v(\"前往購買\")])]):_vm._e(),_c('div',{staticClass:\"row d-flex justify-content-center mt-7\"},[_c('div',{staticClass:\"col-md-10 col-12\"},[(_vm.cart.carts.length)?_c('div',{staticClass:\"input-group mb-3 input-group-md\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"輸入優惠碼\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\" 套用優惠卷 \")])])]):_vm._e(),(_vm.cart.carts.length)?_c('button',{staticClass:\"btn btn-primary btn-block px-3\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.toOrder}},[_vm._v(\"結帳\")]):_vm._e()])])]),_vm._m(2)]),(_vm.cart.carts.length === 0)?_c('h2',{staticClass:\"text-center text-primary my-6 hotItem\"},[_vm._v(\"本月熱銷商品\")]):_vm._e(),(_vm.cart.carts.length === 0)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('swiper',{staticClass:\"swiper\",attrs:{\"options\":_vm.swiperOption}},_vm._l((_vm.products),function(item){return _c('swiper-slide',{key:item.id},[_c('div',{staticClass:\"card h-100\",on:{\"click\":_vm.toProduct}},[_c('img',{staticClass:\"card-img-top\",attrs:{\"src\":item.imageUrl,\"alt\":\"本月熱銷商品\"}}),_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title hotItem__text text-center\"},[_vm._v(_vm._s(item.title))])])])])}),1)],1)]):_vm._e()])])]),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header bg-third\"},[_c('h4',{staticClass:\"h5 text-primary text-center text-bold\"},[_vm._v(\"購物車\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th'),_c('th',{staticClass:\"d-none d-md-table-cell table__img\"},[_vm._v(\"產品圖片\")]),_c('th',{attrs:{\"width\":\"30%\"}},[_vm._v(\"產品名稱\")]),_c('th',{attrs:{\"width\":\"40%\"}},[_vm._v(\"數量\")]),_c('th',[_vm._v(\"價錢\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-footer bg-third pt-5\"},[_c('p',{staticClass:\"text-center\"},[_vm._v(\"開幕期間，輸入 fireman 優惠碼，立即享 20% off 折扣 !!!!\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Alert></Alert>\r\n    <div class=\"container mt-8 mb-4 cart\">\r\n      <div class=\"row d-flex justify-content-center\">\r\n        <div class=\"col-12 col-md-10\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header bg-third\">\r\n              <h4 class=\"h5 text-primary text-center text-bold\">購物車</h4>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"table-responsive-lg\">\r\n                <table class=\"table table-sm\" v-if =\"cart.carts.length\">\r\n                  <thead>\r\n                    <th></th>\r\n                    <th class=\"d-none d-md-table-cell table__img\">產品圖片</th>\r\n                    <th width=\"30%\">產品名稱</th>\r\n                    <th width=\"40%\">數量</th>\r\n                    <th>價錢</th>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                      <td class=\"align-middle\">\r\n                        <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"removeCartItem(item.id)\">\r\n                          <i class=\"far fa-trash-alt\"></i>\r\n                        </button>\r\n                      </td>\r\n                      <td class=\"align-middle d-none d-md-table-cell\">\r\n                        <img :src=\"item.product.imageUrl\" class=\"img-fluid\" alt=\"購物車購買項目\">\r\n                      </td>\r\n                      <td class=\"align-middle text-bold\">\r\n                        {{ item.product.title }}\r\n                        <div class=\"text-success\" v-if=\"item.coupon\">\r\n                        已套用優惠卷\r\n                        </div>\r\n                      </td>\r\n                      <td class=\"align-middle\">\r\n                        <select class=\"form-control form-control-sm\" v-model=\"item.qty\" @change=\"modifyQty(item.product_id, item.qty, item.id)\">\r\n                          <option :value=\"qty\" v-for=\"qty in 10\" :key=\"qty\">{{ qty }}</option>\r\n                        </select>\r\n                      </td>\r\n                      <td class=\"align-middle text-right\" v-if=\"item.final_total !== item.product.origin_price\">{{ item.final_total | currency }}</td>\r\n                      <td class=\"align-middle text-right\" v-else>{{ item.product.origin_price | currency }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                  <tfoot>\r\n                    <tr>\r\n                      <td colspan=\"4\" v-if=\"cart.final_total == cart.total\" class=\"text-right text-bold\">總計</td>\r\n                      <td class=\"text-right text-bold\" v-if=\"cart.final_total == cart.total\">{{ cart.total | currency }}</td>\r\n                    </tr>\r\n                    <tr v-if=\"cart.final_total !== cart.total\">\r\n                      <td colspan=\"4\" class=\"text-right text-success\">折扣價</td>\r\n                      <td class=\"text-right text-success\">{{ cart.final_total }}</td>\r\n                    </tr>\r\n                  </tfoot>\r\n                </table>\r\n              </div>\r\n              <div class=\"none d-flex flex-column align-items-center mt-6\" v-if=\"cart.carts.length === 0\">\r\n                <i class=\"fa fa-cart-arrow-down fa-4x text-muted mb-2 animate__animated animate__bounce animate__infinite\" aria-hidden=\"true\"></i>\r\n                購物車尚未有商品唷!!\r\n                <button type=\"button\" class=\"btn btn-outline-primary btn-md mt-3\" @click='toProduct'>前往購買</button>\r\n              </div>\r\n              <div class=\"row d-flex justify-content-center mt-7\">\r\n                <div class=\"col-md-10 col-12\">\r\n                  <div class=\"input-group mb-3 input-group-md\" v-if =\"cart.carts.length\">\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"輸入優惠碼\">\r\n                    <div class=\"input-group-append\">\r\n                      <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click=\"addCouponCode\">\r\n                        套用優惠卷\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <button type=\"button\" class=\"btn btn-primary btn-block px-3\" v-if=\"cart.carts.length\" @click=\"toOrder\">結帳</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-footer bg-third pt-5\">\r\n              <p class=\"text-center\">開幕期間，輸入 fireman 優惠碼，立即享 20% off 折扣 !!!!</p>\r\n            </div>\r\n          </div>\r\n          <h2 class=\"text-center text-primary my-6 hotItem\" v-if =\"cart.carts.length === 0\">本月熱銷商品</h2>\r\n          <div class=\"row\" v-if =\"cart.carts.length === 0\">\r\n            <div class=\"col\">\r\n              <swiper class=\"swiper\" :options=\"swiperOption\">\r\n                <swiper-slide v-for=\"(item) in products\" :key=\"item.id\">\r\n                  <div class=\"card h-100\" @click=\"toProduct\">\r\n                    <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"本月熱銷商品\">\r\n                    <div class=\"card-body\">\r\n                      <h5 class=\"card-title hotItem__text text-center\">{{ item.title }}</h5>\r\n                    </div>\r\n                  </div>\r\n                </swiper-slide>\r\n              </swiper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Alert from '@/components/AlertMessage.vue'\r\nimport Footer from '@/components/Footer.vue'\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Cart',\r\n  data () {\r\n    return {\r\n      coupon_code: '',\r\n      products: [],\r\n      swiperOption: {\r\n        slidesPerView: 1,\r\n        loop: true,\r\n        spaceBetween: 30,\r\n        grabCursor: true,\r\n        autoplay: {\r\n          delay: 1500,\r\n          disableOnInteraction: false\r\n        },\r\n        breakpoints: {\r\n          480: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 20\r\n          },\r\n          800: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 20\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      const vm = this\r\n      vm.visibility = 'all'\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products/all`\r\n      vm.$store.dispatch('updateLoading', true)\r\n      vm.$http.get(api).then(response => {\r\n        vm.$store.dispatch('updateLoading', false)\r\n        const temp = response.data.products\r\n        vm.products = temp.filter(item => {\r\n          return item.is_enabled === 1\r\n        })\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/coupon`\r\n      const coupon = {\r\n        code: vm.coupon_code\r\n      }\r\n      vm.$store.dispatch('updateLoading', true)\r\n      vm.$http.post(api, { data: coupon }).then(response => {\r\n        if (response.data.success) {\r\n          vm.$store.dispatch('cartModule/getCart')\r\n          vm.$store.dispatch('updateLoading', false)\r\n        } else {\r\n          vm.$store.dispatch('alertModules/updateMessage', '輸入錯誤')\r\n          vm.$store.dispatch('updateLoading', false)\r\n        }\r\n      })\r\n    },\r\n    toOrder () {\r\n      this.$router.push('customer_order')\r\n    },\r\n    toProduct () {\r\n      this.$router.push('/customer_product')\r\n    },\r\n    modifyQty (productid, qty, id) {\r\n      this.$store.dispatch('cartModule/modifyQty', { productid, qty, id })\r\n    },\r\n    ...mapActions('cartModule', ['removeCartItem'])\r\n  },\r\n  components: {\r\n    Alert,\r\n    Footer\r\n  },\r\n  computed: {\r\n    cart () {\r\n      return JSON.parse(JSON.stringify(this.$store.state.cartModule.cart))\r\n    }\r\n  },\r\n  created () {\r\n    this.$store.dispatch('cartModule/getCart')\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .h5{\r\n    margin: 0 !important;\r\n  }\r\n  td,th{\r\n    white-space:nowrap;\r\n  }\r\n  .form-control{\r\n    min-width: 50px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=79f43b14&scoped=true&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=79f43b14&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79f43b14\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-alert\",class:{ 'active' : _vm.messages.length !== 0 }},_vm._l((_vm.messages),function(item,i){return _c('div',{key:i,staticClass:\"alert alert-dismissible\",class:'alert-' + item.status},[_vm._v(\" \"+_vm._s(item.message)+\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.removeMessage(i)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"message-alert\" :class=\"{ 'active' : messages.length !== 0 }\">\r\n    <div class=\"alert alert-dismissible\"\r\n      :class=\"'alert-' + item.status\"\r\n      v-for=\"(item, i) in messages\" :key=\"i\">\r\n      {{ item.message }}\r\n      <button type=\"button\" class=\"close\" @click=\"removeMessage(i)\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'alertMessage',\r\n  methods: {\r\n    ...mapMutations('alertModules', ['removeMessage'])\r\n  },\r\n  computed: {\r\n    ...mapGetters('alertModules', ['messages'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.message-alert {\r\n  position: fixed;\r\n  max-width: 50%;\r\n  top: 56px;\r\n  right: 20px;\r\n  z-index: 1100;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AlertMessage.vue?vue&type=template&id=c8970bfc&scoped=true&\"\nimport script from \"./AlertMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./AlertMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AlertMessage.vue?vue&type=style&index=0&id=c8970bfc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8970bfc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=79f43b14&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=style&index=0&id=c8970bfc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('footer',{staticClass:\"footer d-flex justify-content-center align-items-center py-4\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"d-flex flex-column text-center\"},[_c('small',[_vm._v(\"台中市西屯區123路123號\")]),_c('small',[_vm._v(\"連絡電話: \"),_c('a',{attrs:{\"href\":\"tel:+886-2-1234567\"}},[_vm._v(\"1234567\")])]),_c('small',[_vm._v(\"Email: \"),_c('a',{attrs:{\"href\":\"mailto:abcd1234@gmail.com\"}},[_vm._v(\"abcd1234@gmail.com\")])]),_c('div',{staticClass:\"footer__media\"},[_c('i',{staticClass:\"fab fa-twitter-square mr-2\"}),_c('i',{staticClass:\"fab fa-facebook-square mr-2\"}),_c('i',{staticClass:\"fab fa-github\"})]),_c('small',{staticClass:\"mt-2\"},[_vm._v(\"Copyright 2020 | Web Designed by 皮傑先生\")])])])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=5bc2ae4f&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}